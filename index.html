<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shared Planning Calendar</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.ico">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>

<body>
  <div class="app">

    <!-- Logo Container -->
    <div class="logo-wrapper">
      <div class="logo-container">
        <img src="images/logo3.webp" alt="Shared Planning Calendar Logo" class="logo">
      </div>
    </div>

    <h1>Shared Planning Calendar</h1>
    <div class="subtitle">by OneByte LLC</div>

    <!-- User Toggle -->
    <div id="userToggle" class="user-toggle">
      <button id="user1Button" class="active" aria-label="Switch to Dad">Dad</button>
      <button id="user2Button" aria-label="Switch to Mom">Mom</button>
    </div>

    <!-- Calendar Header -->
    <div class="calendar-header">
      <button id="prevMonth" aria-label="Go to previous month">&lt; Prev</button>
      <span id="monthYear"></span>
      <button id="nextMonth" aria-label="Go to next month">Next &gt;</button>
    </div>

    <!-- Calendar with Day Labels -->
    <div class="day-labels">
      <span>Sun</span>
      <span>Mon</span>
      <span>Tue</span>
      <span>Wed</span>
      <span>Thu</span>
      <span>Fri</span>
      <span>Sat</span>
    </div>
    <div id="dates"></div>

    <!-- Generate Output Button -->
    <button id="generateOutput" class="generate-output-btn">Generate Output</button>

    <!-- Preferences Section -->
    <div class="preferences-container">

      <!-- Dad's Preferences -->
      <div class="preferences-card">
        <h3>Dad's Preferences</h3>
        <p>Requested:</p>
        <ul id="dadRequestedDates">
          <li>None</li>
        </ul>
        <p>Avoided:</p>
        <ul id="dadAvoidedDates">
          <li>None</li>
        </ul>
      </div>

      <!-- Mom's Preferences -->
      <div class="preferences-card">
        <h3>Mom's Preferences</h3>
        <p>Requested:</p>
        <ul id="momRequestedDates">
          <li>None</li>
        </ul>
        <p>Avoided:</p>
        <ul id="momAvoidedDates">
          <li>None</li>
        </ul>
      </div>
    </div>

    <!-- Proposed Calendar Section -->
    <div class="proposed-calendar">
      <h3>Proposed Schedule</h3>
      <div id="proposedDates"></div>
    </div>

    <!-- Download Section -->
    <div id="downloadSection" class="download-section">
      <h3>Download Options</h3>
      <button id="downloadExcel">
        <span>ðŸ“¥</span> Download as Excel
      </button>
      <button id="downloadCalendar">
        <span>ðŸ“…</span> Download for Google/Outlook
      </button>
    </div>
  </div>

  <!-- Paywall Modal -->
  <div id="paywallModal" class="modal">
    <div class="modal-content">
      <h2>Support Us</h2>
      <p>Please make a $5 donation in BTC to access the Generate Output feature.</p>
      <p><strong>Bitcoin Address:</strong></p>
      <p id="btcAddress">bc1qp7atyd9v5ddxqyl09wpzz6dp2wq78hny3tz6jj</p>
      <img id="btcQR" src="https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=bitcoin:bc1qp7atyd9v5ddxqyl09wpzz6dp2wq78hny3tz6jj&choe=UTF-8" alt="QR Code for BTC">
      <p>Once you've made the payment, click "Confirm Payment."</p>
      <button id="confirmPayment">Confirm Payment</button>
      <button id="closeModal">Cancel</button>
    </div>
  </div>

  <script src="script.js" defer></script>
</body>

</html>
